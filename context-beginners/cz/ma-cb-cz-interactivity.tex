% Translation: 2006-10-09 VZ
% Checking:    2006-11-14 zyka
\startcomponent ma-cb-cz-interactivity
\project ma-cb
\product ma-cb-cz
\environment ma-cb-env-cz

%\chapter{Interactive mode in electronic documents}
\chapter{Interaktivní mód v~elektronických dokumentech}

%\section{Introduction}
\section{Úvod}

%% \index[reader]{\READER}
%% \index[exchange]{\EXCHANGE}
%% \index[distiller]{\DISTILLER}
\index[reader]{\READER}
\index[exchange]{\EXCHANGE}
\index[distiller]{\DISTILLER}

%% Nowadays documents can be made electronically available for
%% consulting on a computer and displaying on a computer screen.
Dne¹ní dokumenty mohou být k~dispozici elektronicky prostøednictvím
obrazovky poèítaèe.

%% Interaction means that you can click on active areas and
%% jump to the indicated areas. For example if you consult a
%% register you can click on a (active) page number and you will
%% jump to the corresponding page.
Po kliknutí my¹í na urèitou plochu interaktivního dokumentu, se nám
zobrazí jeho jiná èást. Ta, která byla odkazována. Pøíkladem mù¾e být
klik na èíslo strány v~rejstøíku a~následné zobrazení odpovídající
strany dokumentu.

%% Interaction relates to:
Interakce se týkají:

\startitemize[packed]
%% \item active chapter numbers in table of content
%% \item active page numbers in registers
%% \item active page numbers, chapter numbers and figure numbers in
%%       internal references to pages, chapters, figures etc.
%% \item active titles, page numbers, and chapter numbers in
%%       external references to other interactive documents
%% \item active menus as navigation tools
\item aktivních èísel kapitol v~obsahu;
\item aktivních èísel stran v~rejstøíku;
\item aktivních èísel stran, èísel kapitol a èísel obrázkù ve
  vnitøních odkazech na strany, kapitoly, obrázky ap.;
\item aktivních názvù, èísel stran a èísel kapitol v~externích
  referencích na jiné interaktivní dokumenty;
\item aktivní menu v~navigaèních panelech.
\stopitemize

%% Interactivity depends on the program you use to view the
%% interactive document. We assume that you will use \PDFTEX\
%% for producing a \PDF\ document directly or use \DISTILLER\
%% to convert a \POSTSCRIPT\ file into a \PDF\ one. It is
%% obvious that you will then use \READER, \EXCHANGE, or
%% \GHOSTVIEW\ for viewing.
Interaktivivní chování do jisté míry závisí na programu, ve kterém
dokument prohlí¾íme. Pokud pøedpokládáme, ¾e pou¾ijeme \PDFTEX{} pro
pøímé generování \PDF{} dokumentu nebo pou¾ijeme \DISTILLER{} pro
pøevedení \POSTSCRIPT{}ového souboru na soubor \PDF, je pak zøejmé, ¾e
pro zobrazení pou¾ijeme \PDF{} prohlí¾eè, napøíklad \READER,
\EXCHANGE{} nebo \GHOSTVIEW.

%% \CONTEXT\ is a very powerful system for producing electronic
%% or interactive \PDF\ documents. However only a few standard
%% features are described in this chapter. As the authors of
%% this manual are planning to make all \CONTEXT\ related
%% manuals electronically (sources included) available, reverse
%% engineering is one of the options to become more acquainted
%% with the possibilities of \CONTEXT.
\CONTEXT\ je velmi silný systém pro generování elektronických nebo
interaktivních \PDF\ dokumentù. Av¹ak pouze nìkolik standardních
vlastností je popsáno v~této kapitole. Proto¾e autoøi tohoto manuálu
chtìjí v¹echny manuály vìnované \CONTEXT u elektronicky zpøístupnit
vèetnì zdrojových textù, je zpìtné in¾enýrství jedna z~mo¾ností, jak
se dùvìrnì obeznámit s~jeho mo¾nostmi.\footnote{Pozn. pøekl.:
  Interaktivitì je vìnován manuál \from[manual:widgets], viz
  \in{pøílohu}[sec:info].}

%% \section{Interactive mode}
\section{Interaktivní mód}

%% \index{interactive mode}
\index{interaktivní mód}

\Command{\tex{setupinteraction}}

%% The interactive mode is activated by:
Interaktivní mód se aktivuje pomocí:

\shortsetup{setupinteraction}

%% For example:
Napøíklad

\startbuffer
\setupinteraction
  [state=start,
   color=green,
   style=bold]
\stopbuffer

\typebuffer

%% The hyper links are now generated automatically and the
%% active words are displayed in bold green.
zpùsobí, ¾e hyperlinky zaènou být generovány automaticky a aktivní
slova budou zobrazeny zelenì.

%% The interactive document is considerably bigger (in MB's)
%% than its paper cousin because hyperlinks consume space. You
%% will also notice that processing time becomes longer.
%% Therefore it is advisable to de-activate the interactive mode
%% as long as your document is under construction.
Interaktivní dokumenty jsou podstatnì vìt¹í (v~MB) ne¾ jejich papíroví
bratranci, proto¾e hyperlinky spotøebují spoustu kódu. Také si
v¹imnìnme, ¾e zpracování dokumentu probíhá pomaleji. Proto je výhodné
deaktivovat interaktivní mód bìhem pøípravných fází tvorby dokumentu.

%% \section{Interaction within a document}
\section{Interaktivita v~rámci jednoho dokumentu}

%% \index{interaction+internal}
\index{interaktivita+vnitøní}

\Command{\tex{in}}
\Command{\tex{at}}
\Command{\tex{goto}}

%% Earlier you have seen how to make a reference with
%% \type{\in} and \type{\at}. You may have wondered why you had
%% to type \type{\in{chapter}[chap:introduction]}. In the first
%% place {\em chapter} and its corresponding chapter number
%% will not be separated at line breaking. In the second place
%% the word {\em chapter} and its number are typeset
%% differently in the interactive mode. This gives the user a
%% larger clickable area.
Ji¾ døíve jsme vidìli, jak vytvoøit odkaz pomocí \type{\in} a
\type{\at}. Mo¾ná jsme se divili, proè pí¹eme
\type{\in{kapitola}[chap:uvod]}. Zaprvé se tak zamezí, aby slovo
{\em kapitola} a~korespondující èíslo bylo rozdìleno øádkovým
zlomem. A~zadruhé bude jak slovo {\em kapitola}, tak i~její èíslo sázeno
v~interaktivním módu aktivnì. Díky tomu získá ètenáø vìt¹í klikatelnou
oblast.

%% In interactive mode there is one other command that has
%% little meaning in the paper variant.
V~interaktivním módu máme k~dispozici jeden pøíkaz, který má
zanedbatelný význam v~papírové variantì dokumentu. Je jím

\shortsetup{goto}

%% The curly braces contain text, the brackets contain a
%% reference (logical name, location).
Slo¾ené závorky obsahují uvozující nebo ukonèující text reference,
hranaté odkaz (referenèní jmého nebo pokyn).

%% \startbuffer
%% In \goto{Hasselt}[fig:cityplan] all streets are build in a
%% circular way.
%% \stopbuffer
\startbuffer
V~\goto{Hasseltu}[fig:cityplan] jsou v¹echny ulice vybudovány do kruhu.
\stopbuffer

\typebuffer

%% In the interactive document {\em Hasselt} will be green and
%% active. You will jump to a map of Hasselt.
V~interaktivním dokumentu slovo {\em Hasseltu} bude zelené a
aktivní. Skoèíte jím na obrázek s~mapkou Hasseltu.

%% \section{Interaction between documents}
\section{Interaktivita mezi dokumenty}

%% \index{interaction+external}
\index{interakce+vnìj¹í}

\Command{\tex{from}}
\Command{\tex{useexternaldocument}}

%% It is possible to link one document to another. First you
%% have to state that you want to refer to another document.
%% This is done by:
Je mo¾né odkazovat z~jednoho dokumentu na jiný. Nejdøíve musíte
registrovat vnìj¹í dokument. Dìlá se to pomocí

\shortsetup{useexternaldocument}

%% The first bracket pair must contain a logical name of the
%% document, the second pair the file name of the other document
%% and the third pair is used for the title of the document.
První hranaté závorky musí obsahovat logické jméno dokumentu, druhý pár
závorek obsahuje jméno souboru a poslední závorky obklopují pojmenování
vnìj¹ího dokumentu.

%% For refering to these other documents you can use:
Pro odkazování takto registrovaného dokumentu pou¾ijeme

\shortsetup{from}

%% The curly braces contain text and the brackets contain the
%% reference.
% !!!
%Slo¾ené závorky obsahují zobrazovaný text, hranaté referenci.
Závorky obsahují logické jméno dokumentu.

%% Look at the example below.
Podívejme se na pøíklady ní¾e:

%% \startbuffer
%% \useexternaldocument[hia][hasbook][Hasselt in August]

%% Most tourist attractions are described in \from[hia]. A description
%% of the Eui||feest is found in \from[hia::euifeest]. A description
%% of the \goto{Eui||feest}[hia::euifeest] is found in \from[hia]. The
%% eui||feest is described on \at{page}[hia::euifeest] in \from[hia].
%% See for more information \in{chapter}[hia::euifeest] in \from[hia].
%% \stopbuffer

%% \typebuffer
\startbuffer
\useexternaldocument[hia][hasbook][Hasselt v~srpnu]

Vìt¹ina turistických atrakcí je popsána v~knize
\from[hia]. Podrobnosti o~Eui||feestu je mo¾no nalézt
v~knize \from[hia::euifeest]. Popis \goto{Eui||feestu}[hia::euifeest]
je v~prùvodci \from[hia]. Eui||feest je popsán na
\at{stranì}[hia::euifeest] v~materiálu \from[hia]. 
Viz dal¹í informace v~kapitole \in{kapitole}[hia::euifeest] knihy
\from[hia].
\stopbuffer

\typebuffer

%% The \type{\useexternaldocument} is usually typed in the
%% set up area of your input file.
Pøíkaz \type{\useexternaldocument} bývá pou¾it v~úvodní oblasti
vstupního souboru.

%% After processing your input file (at least two times to get
%% the references right), and the file \type{hasbook.tex},
%% you will have two \PDF\ documents. The references
%% above have the following meaning:
Po zpracování na¹eho vstupního souboru (pøinejmen¹ím dvakrát, aby byly
odkazy v~poøádku) a~souboru \type{hasbook.tex}, budeme mít dva \PDF\
dokumenty. Vý¹e uvedené odkazy mají následující význam:

\startitemize[packed]
%% \item \type{\from[hia]} will produce the active title you gave
%%       in the third bracket pair of
%%       \type{\useexternaldocument} and is linked to the
%%       first page of \type{hasbook.pdf}
\item \type{\from[hia]} vyrobí aktivní titulek, který jsme uvedli
  v~tøetím páru hranatých závorek pøíkazu \type{\useexternaldocument}
  a~svázán bude s~první stranou \type{hasbook.pdf}.
%% \item \type{\from[hia::euifeest]} will produce an active title
%%       and is linked to the page where chapter Eui||feest
%%       begins
\item \type{\from[hia::euifeest]} vyrobí aktivní titulek
  a~svá¾e jej se stranou, kde zaèíná kapitola Eui||feest.
%% \item \type{\goto{Eui||feest}[hia::euifeest]} will produce an
%%       active word {\em Eui||feest} and is linked to the page
%%       where chapter Eui||feest begins
\item \type{\goto{Eui||feest}[hia::euifeest]} vyrobí aktivní slovo
  {\em Eui||feest} a~svá¾e jej se stranou, kde zaèíná kapitola
  Eui||feest.
%% \item \type{\at{page}[hia::euifeest]} will produce an active
%%       word {\em page} and page number and is linked to that
%%       page
\item \type{\at{strana}[hia::euifeest]} vyrobí aktivní slovo
  {\em strana}, pøipojí èíslo strany a~svá¾e je s~touto stranou.
%% \item \type{\in{chapter}[hia::euifeest]} will produce on
%%       active word {\em chapter} and chapter number and is
%%       linked to that chapter
\item \type{\in{kapitola}[hia::euifeest]} vyrobí aktivní slovo
  {\em kapitola}, pøipojí èíslo kapitoly a~svá¾e je s~pøíslu¹nou
  kapitolou.
\stopitemize

%% As you can see the \type{::} separates the (logical) file name
%% and the destination in that file.
Jak jsme mohli vidìt, \type{::} oddìluje (logické) jméno souboru
a~referenèní jméno doskoku v~tomto dokumentu.

%% \section{Menus}
\section{Menu}

%% You can define navigation tools with:
Definovat mù¾eme také navigaèní panel pomocí

\shortsetup{defineinteractionmenu}

%% The first bracket pair is used for a logical name that can
%% be used to recall the menu. The second pair contains the
%% location on the screen. The third pair is used for setting
%% up the menu.
První pár závorek definuje referenèní jméno, které mù¾e pozdìji být
pou¾ito pro vyvolání menu. Druhé závorky urèují polohu na
obrazovce. Tøetí nastavují menu.

%% A typical menu definition might look like this:
Typická definice menu vypadá takto:

%% \startbuffer
%% \setupcolors
%%   [state=start]

%% \setupinteraction
%%   [state=start,
%%    menu=on]

%% \defineinteractionmenu
%%   [mymenu]
%%   [right]
%%   [state=start,
%%    align=middle,
%%    background=screen,
%%    frame=on,
%%    width=\marginwidth,
%%    style=smallbold,
%%    color=]

%% \setupinteractionmenu
%%   [mymenu]
%%   [{Content[content]},
%%    {Index[index]},
%%    {\vfill},
%%    {Stop[ExitViewer]}]
%% \stopbuffer
\startbuffer
\setupcolors
  [state=start]

\setupinteraction
  [state=start,
   menu=on]

\defineinteractionmenu
  [mymenu]
  [right]
  [state=start,
   align=middle,
   background=screen,
   frame=on,
   width=\marginwidth,
   style=smallbold,
   color=]

\startinteractionmenu[mymenu]
  \but [content] Obsah \\
  \but [index] Rejstøík \\
  \vfill \\
  \but [ExitViewer] Konec \\
\stopinteractionmenu

\setupheadertexts[{\interactionmenu[mymenu]}]
\stopbuffer

\typebuffer

%% This will produce a menu on the right hand side of every
%% screen. The menu buttons contain the text {\em Content}, {\em
%% Index} and {\em Stop} with respectively the following
%% functions: jump to the table of contents, jump to the index
%% and leave the viewer. The labels to obvious destinations
%% like \type{content} and \type{index} are predefined. Other
%% predefined destinations are \type{FirstPage},
%% \type{LastPage}, \type{NextPage} and
%% \type{PreviousPage}.
Tato definice vyrobí menu na pravé stranì ka¾dé strany. Tlaèítka menu
budou obsahovat texty {\em Obsah}, {\em Rejstøík} a {\em Konec}
s~po øadì odpovídajícími funkcemi: skok na obsah, skok na rejstøík
a~zavøi prohlí¾eè. Návì¹tí na obvyklé doskoky jakými jsou
napø. \type{content} a~\type{index} jsou pøeddefinovány, pokud obsah
a~rejstøík vlo¾íme pomocí \type{\completecontent} a~\type{\completeindex}. Jiné
pøeddefinované funkce jsou \type{FirstPage} (první strana),
\type{LastPage} (poslední strana), \type{NextPage} (dal¹í strana)
a~\type{PreviousPage} (pøedchozí strana). O~vlo¾ení menu se stará
\type{\interactionmenu}.

%% An action like \type{ExitViewer} is necessary to make an
%% electronic document self containing. Other predefined
%% actions you can use are \type{PrintDocument},
%% \type{SearchDocument} and \type{PreviousJump}. The meaning of
%% these actions is obvious.
Akce typu \type{ExitViewer} (zavøi prohlí¾eè) je nezbytná, aby ná¹
elektronický dokument byl samoobsa¾ný. Jiné pøeddefinované akce, které
mù¾eme pou¾ít jsou \type{PrintDocument} (tiskni),
\type{SearchDocument} (prohledej dokument) a~\type{PreviousJump}
(skok na pøedchozí zobrazení). 

%% Menus are set up with:
Menu jsou nastavována pomocí

\shortsetup{startinteractionmenu}

\stopcomponent

\startcomponent ma-cb-fr-heads

\product ma-cb-fr

% TODO: Pluriel d'en-tête ?

% Attention, il y a confusion entre heads et headers (dans la version
% anglaise aussi, apparemment) : titres (heads) et en-têtes (headers).

% \chapter[headers]{Headers}
\chapter[titres]{Titres}

% \index{headers}
\index{titres}

\Command{\tex{chapter}}
\Command{\tex{paragraph}}
\Command{\tex{subparagraph}}
\Command{\tex{title}}
\Command{\tex{subject}}
\Command{\tex{subsubject}}
\Command{\tex{setuphead}}
\Command{\tex{setupheads}}

% The structure of a document is determined by its headers.
% Headers (heads) are created with the commands shown in
% \in{table}[tab:headers]:

La structure d'un document est définie par ses titres ({\em heads}).
Ils sont créés au moyen des commandes de la table
\in{table}[tab:headers]:

% \placetable[here][tab:headers]{Headers.}
\placetable[here][tab:headers]{Titres}
\starttable[|l|l|]
\HL
\NC \bf Titres numérotés \NC \bf Titres non numérotés \NC\SR
\HL
\NC \type{\chapter}        \NC \type{\title}              \NC\FR
\NC \type{\section}        \NC \type{\subject}            \NC\MR
\NC \type{\subsection}     \NC \type{\subsubject}         \NC\MR
\NC \type{\subsubsection}  \NC \type{\subsubsubject}      \NC\MR
\NC $\cdots$               \NC $\cdots$                   \NC\LR
\HL
\stoptable

\shortsetup{chapter}
\shortsetup{section}
\shortsetup{subsection}
\shortsetup{title}
\shortsetup{subject}
\shortsetup{subsubject}

% These commands will produce a header in a
% predefined fontsize and fonttype with some vertical
% spacing before and after the header.
Ces commandes produisent un titre dans un corps et un style de police
prédéfinis, avec un espacement vertical avant et après le titre.

% The heading commands can take several arguments, like in:
% TODO: Plusieurs <- 1 ou 2 ?
Chacune de ces commandes peut prendre plusieurs arguments ; comparez :

% \title[hasselt-by-night]{Hasselt by night}
\starttyping
\title[hasselt-de-nuit]{Hasselt de nuit}
\stoptyping

% and
et

\starttyping
\title{Hasselt de nuit}
\stoptyping

% The bracket pair is optional and used for internal
% references. If you want to refer to this header you type for
% example \type{\at{page}[hasselt-by-night]}.
La paire de crochets est facultative, et utilisée comme référence interne ; par
exemple, pour renvoyer automatiquement au numéro de page du titre « Hasselt de
nuit », on utilisera \type{\at{page}[hasselt-de-nuit]}.

% Of course these headers can be set to your own preferences
% and you can even define your own headers. This is done by
% the command \type{\setuphead} and \type{\definehead}.
Bien entendu, ces titres peuvent être personnalisés. Vous pouvez même
définir vos propres commandes pour créer de nouveaux types de titres. On
utilise pour cela les commandes \type{\definehead} et \type{\setuphead}.

\shortsetup{definehead}
\shortsetup{setuphead}

Ainsi, les commandes ci-dessous définissent le titre \type{\montitre},
et donnent un exemple d'utilisation :

\startbuffer
\definehead
  [montitre]
  [section]

\setuphead
  [montitre]
  [numberstyle=bold,
   textstyle=bold,
   before=\hairline\blank,
   after=\nowhitespace\hairline]

\montitre[refmontitre]{Hasselt fait la une}
\stopbuffer
% \myheader[myhead]{Hasselt makes headlines}
% TODO: les grands titres?

\typebuffer

% A new header \type{\myheader} is defined and it inherits the
% properties of \type{\section}. It would look something
% like this:
Un nouveau titre \type{\montitre} hérite des propriétés de
\type{\section}, et la commande \type{\setuphead} en modifie certaines.
% TODO: préciser ?

\getbuffer

% There is one other command you should know now, and that is
% \type{\setupheads}. You can use this command to set up the
% numbering of the numbered headers. If you type:
Une autre commande permet de modifier l'apparence des titres, c'est
\type{\setupheads} (au pluriel). On peut l'utiliser pour régler la
numérotation des titres numérotés. L'instruction

% TODO: inmargin or margin?
\startbuffer
\setupheads
  [alternative=inmargin,
   separator=--]
\stopbuffer

\typebuffer

% all numbers will appear in the margin. Section 1.1 would
% look like 1--1.
placera les numéros dans la marge, séparé par le symbole «~--~», le cas
échéant. Ainsi, la section 1.1 apparaîtra comme 1--1.
% TODO: add a note explaining \type{--} types --?

% Commands like \type{\setupheads} are typed in the
% set up area of your input file.
Ces commandes sont à placer dans le préambule de votre document.

\shortsetup{setupheads}

\stopcomponent
